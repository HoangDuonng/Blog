<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>Log on HoÃ ng DÆ°Æ¡ng</title>
        <link>https://tech.nguuyen.io.vn/tags/log/</link>
        <description>Recent content in Log on HoÃ ng DÆ°Æ¡ng</description>
        <generator>Hugo -- gohugo.io</generator>
        <language>vi</language>
        <lastBuildDate>Mon, 24 Feb 2025 00:00:00 +0000</lastBuildDate><atom:link href="https://tech.nguuyen.io.vn/tags/log/index.xml" rel="self" type="application/rss+xml" /><item>
        <title>Quáº£n lÃ½ logs (Logs Management) ğŸ“œ</title>
        <link>https://tech.nguuyen.io.vn/posts/devops/devops-step-sixteen/</link>
        <pubDate>Mon, 24 Feb 2025 00:00:00 +0000</pubDate>
        
        <guid>https://tech.nguuyen.io.vn/posts/devops/devops-step-sixteen/</guid>
        <description>&lt;img src="https://tech.nguuyen.io.vn/images/devops/devops-step-sixteen.webp" alt="Featured image of post Quáº£n lÃ½ logs (Logs Management) ğŸ“œ" /&gt;&lt;h1 id=&#34;-quáº£n-lÃ½-logs-logs-management&#34;&gt;ğŸ“œ Quáº£n lÃ½ logs (Logs Management)
&lt;/h1&gt;&lt;h2 id=&#34;-quáº£n-lÃ½-logs-lÃ -gÃ¬&#34;&gt;ğŸ” Quáº£n lÃ½ logs lÃ  gÃ¬?
&lt;/h2&gt;&lt;p&gt;Quáº£n lÃ½ logs lÃ  quÃ¡ trÃ¬nh thu tháº­p, tá»•ng há»£p, phÃ¢n tÃ­ch, lÆ°u trá»¯ vÃ  truy xuáº¥t logs tá»« cÃ¡c á»©ng dá»¥ng vÃ  há»‡ thá»‘ng háº¡ táº§ng. Logs chá»©a thÃ´ng tin quan trá»ng vá» hoáº¡t Ä‘á»™ng cá»§a há»‡ thá»‘ng, giÃºp phÃ¡t hiá»‡n sá»± cá»‘, tá»‘i Æ°u hÃ³a hiá»‡u suáº¥t vÃ  Ä‘áº£m báº£o tuÃ¢n thá»§ báº£o máº­t.&lt;/p&gt;
&lt;hr&gt;
&lt;h2 id=&#34;-cÃ¡c-cÃ´ng-cá»¥-quáº£n-lÃ½-logs-phá»•-biáº¿n&#34;&gt;ğŸš€ CÃ¡c cÃ´ng cá»¥ quáº£n lÃ½ logs phá»• biáº¿n
&lt;/h2&gt;&lt;h3 id=&#34;elastic-stack-elk-stack&#34;&gt;Elastic Stack (ELK Stack)
&lt;/h3&gt;&lt;p&gt;&lt;strong&gt;ğŸ“ Giá»›i thiá»‡u:&lt;/strong&gt;
Elastic Stack, trÆ°á»›c Ä‘Ã¢y gá»i lÃ  ELK Stack, bao gá»“m Elasticsearch (cÃ´ng cá»¥ tÃ¬m kiáº¿m vÃ  phÃ¢n tÃ­ch), Logstash (xá»­ lÃ½ dá»¯ liá»‡u), Kibana (trá»±c quan hÃ³a) vÃ  Beats (thu tháº­p dá»¯ liá»‡u). ÄÃ¢y lÃ  giáº£i phÃ¡p phá»• biáº¿n Ä‘á»ƒ quáº£n lÃ½ logs vá»›i kháº£ nÄƒng má»Ÿ rá»™ng cao.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ğŸ”¹ TÃ­nh nÄƒng ná»•i báº­t:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;TÃ¬m kiáº¿m vÃ  phÃ¢n tÃ­ch logs theo thá»i gian thá»±c.&lt;/li&gt;
&lt;li&gt;Há»— trá»£ nhiá»u Ä‘á»‹nh dáº¡ng dá»¯ liá»‡u khÃ¡c nhau.&lt;/li&gt;
&lt;li&gt;Kháº£ nÄƒng má»Ÿ rá»™ng tá»‘t vá»›i mÃ´i trÆ°á»ng doanh nghiá»‡p.&lt;/li&gt;
&lt;li&gt;Cung cáº¥p giao diá»‡n trá»±c quan vá»›i Kibana.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Sá»­ dá»¥ng Elastic Stack Ä‘á»ƒ thu tháº­p logs tá»« cÃ¡c mÃ¡y chá»§ web, phÃ¢n tÃ­ch lá»—i vÃ  táº¡o dashboard giÃ¡m sÃ¡t lÆ°u lÆ°á»£ng truy cáº­p.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ğŸ“š TÃ i nguyÃªn há»¯u Ã­ch:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ğŸ”—&lt;a class=&#34;link&#34; href=&#34;https://www.elastic.co/elastic-stack/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Trang chá»§ Elastic Stack&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;ğŸ¥&lt;a class=&#34;link&#34; href=&#34;https://www.youtube.com/watch?v=CfCTWVAwFbQ&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Tá»•ng quan vá» Elastic Stack&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id=&#34;loki&#34;&gt;Loki
&lt;/h3&gt;&lt;p&gt;&lt;strong&gt;ğŸ“ Giá»›i thiá»‡u:&lt;/strong&gt;
Loki lÃ  há»‡ thá»‘ng thu tháº­p logs do Grafana Labs phÃ¡t triá»ƒn, tá»‘i Æ°u cho Kubernetes vÃ  container. Loki khÃ´ng lÆ°u trá»¯ toÃ n bá»™ logs mÃ  chá»‰ láº­p chá»‰ má»¥c metadata, giÃºp tiáº¿t kiá»‡m tÃ i nguyÃªn.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ğŸ”¹ TÃ­nh nÄƒng ná»•i báº­t:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;TÃ­ch há»£p cháº·t cháº½ vá»›i Grafana.&lt;/li&gt;
&lt;li&gt;Sá»­ dá»¥ng LogQL, ngÃ´n ngá»¯ truy váº¥n tÆ°Æ¡ng tá»± PromQL.&lt;/li&gt;
&lt;li&gt;Tá»‘i Æ°u cho mÃ´i trÆ°á»ng Kubernetes vÃ  container.&lt;/li&gt;
&lt;li&gt;Tiáº¿t kiá»‡m tÃ i nguyÃªn so vá»›i cÃ¡c giáº£i phÃ¡p khÃ¡c.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Sá»­ dá»¥ng Loki Ä‘á»ƒ theo dÃµi logs tá»« cÃ¡c container trong Kubernetes, giÃºp phÃ¡t hiá»‡n lá»—i á»©ng dá»¥ng nhanh chÃ³ng.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ğŸ“š TÃ i nguyÃªn há»¯u Ã­ch:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ğŸ”—&lt;a class=&#34;link&#34; href=&#34;https://grafana.com/oss/loki/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Trang chá»§ Loki&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;ğŸ“–&lt;a class=&#34;link&#34; href=&#34;https://grafana.com/docs/loki/latest/?pg=oss-loki&amp;amp;plcmt=quick-links&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;TÃ i liá»‡u Loki&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id=&#34;graylog&#34;&gt;Graylog
&lt;/h3&gt;&lt;p&gt;&lt;strong&gt;ğŸ“ Giá»›i thiá»‡u:&lt;/strong&gt;
Graylog lÃ  ná»n táº£ng quáº£n lÃ½ logs mÃ£ nguá»“n má»Ÿ, há»— trá»£ thu tháº­p, lÆ°u trá»¯ vÃ  phÃ¢n tÃ­ch logs theo thá»i gian thá»±c. Há»‡ thá»‘ng nÃ y cung cáº¥p giao diá»‡n web thÃ¢n thiá»‡n vÃ  há»— trá»£ nhiá»u loáº¡i dá»¯ liá»‡u logs khÃ¡c nhau.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ğŸ”¹ TÃ­nh nÄƒng ná»•i báº­t:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Há»— trá»£ nhiá»u giao thá»©c thu tháº­p logs nhÆ° Syslog, GELF.&lt;/li&gt;
&lt;li&gt;Giao diá»‡n tÃ¬m kiáº¿m máº¡nh máº½.&lt;/li&gt;
&lt;li&gt;TÃ­ch há»£p tÃ­nh nÄƒng cáº£nh bÃ¡o khi phÃ¡t hiá»‡n sá»± cá»‘.&lt;/li&gt;
&lt;li&gt;Há»— trá»£ truy váº¥n logs theo thá»i gian thá»±c.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Sá»­ dá»¥ng Graylog Ä‘á»ƒ theo dÃµi logs tá»« cÃ¡c há»‡ thá»‘ng báº£o máº­t, giÃºp phÃ¡t hiá»‡n hÃ nh vi xÃ¢m nháº­p trÃ¡i phÃ©p.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ğŸ“š TÃ i nguyÃªn há»¯u Ã­ch:&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ğŸ”—&lt;a class=&#34;link&#34; href=&#34;https://www.graylog.org/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Trang chá»§ Graylog&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;ğŸ¥&lt;a class=&#34;link&#34; href=&#34;https://www.graylog.org/resources-videos&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;HÆ°á»›ng dáº«n sá»­ dá»¥ng Graylog&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h2 id=&#34;-vÃ­-dá»¥-vá»-mÃ£-nguá»“n&#34;&gt;ğŸ”¥ VÃ­ dá»¥ vá» mÃ£ nguá»“n
&lt;/h2&gt;&lt;p&gt;DÆ°á»›i Ä‘Ã¢y lÃ  cÃ¡ch gá»­i logs Ä‘áº¿n má»™t há»‡ thá»‘ng thu tháº­p logs báº±ng JavaScript:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-javascript&#34; data-lang=&#34;javascript&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kr&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;winston&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;require&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;winston&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kr&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;logger&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;winston&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;createLogger&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;({&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nx&#34;&gt;level&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;info&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nx&#34;&gt;format&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;winston&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;format&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;json&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(),&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nx&#34;&gt;transports&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;winston&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;transports&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Console&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(),&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;winston&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;transports&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;File&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;({&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;filename&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;app.log&amp;#39;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;})&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;});&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;// Ghi log
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;logger&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;info&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;á»¨ng dá»¥ng Ä‘Ã£ khá»Ÿi Ä‘á»™ng thÃ nh cÃ´ng&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;logger&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;warn&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;Cáº£nh bÃ¡o: Dá»¯ liá»‡u Ä‘áº§u vÃ o khÃ´ng há»£p lá»‡&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;logger&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;error&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;Lá»—i: KhÃ´ng thá»ƒ káº¿t ná»‘i cÆ¡ sá»Ÿ dá»¯ liá»‡u&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;hr&gt;
&lt;h2 id=&#34;-káº¿t-luáº­n&#34;&gt;âœ… Káº¿t luáº­n
&lt;/h2&gt;&lt;p&gt;Quáº£n lÃ½ logs Ä‘Ã³ng vai trÃ² quan trá»ng trong viá»‡c giÃ¡m sÃ¡t há»‡ thá»‘ng vÃ  xá»­ lÃ½ sá»± cá»‘ nhanh chÃ³ng. CÃ¡c cÃ´ng cá»¥ nhÆ° &lt;strong&gt;Elastic Stack, Loki,&lt;/strong&gt; vÃ  &lt;strong&gt;Graylog&lt;/strong&gt; cung cáº¥p giáº£i phÃ¡p máº¡nh máº½ Ä‘á»ƒ thu tháº­p, phÃ¢n tÃ­ch vÃ  trá»±c quan hÃ³a logs. Viá»‡c lá»±a chá»n cÃ´ng cá»¥ phÃ¹ há»£p sáº½ giÃºp nÃ¢ng cao hiá»‡u quáº£ váº­n hÃ nh há»‡ thá»‘ng cá»§a báº¡n. ğŸš€&lt;/p&gt;
&lt;p&gt;ğŸ‘‰ &lt;strong&gt;BÆ°á»›c tiáº¿p theo:&lt;/strong&gt; TÃ¬m hiá»ƒu vá» &lt;em&gt;&lt;strong&gt;Container Orchestration&lt;/strong&gt;&lt;/em&gt;  quÃ¡ trÃ¬nh tá»± Ä‘á»™ng quáº£n lÃ½, triá»ƒn khai, má»Ÿ rá»™ng vÃ  Ä‘iá»u phá»‘i cÃ¡c container trong mÃ´i trÆ°á»ng háº¡ táº§ng, giÃºp Ä‘áº£m báº£o tÃ­nh sáºµn sÃ ng, kháº£ nÄƒng má»Ÿ rá»™ng vÃ  tá»‘i Æ°u tÃ i nguyÃªn há»‡ thá»‘ng. CÃ¡c cÃ´ng cá»¥ phá»• biáº¿n cho Container Orchestration bao gá»“m Kubernetes, Docker Swarm vÃ  Apache Mesos.&lt;/p&gt;
</description>
        </item>
        
    </channel>
</rss>
